package main

import(
	"udp"
	"driver"
	"elevFunc"
	"timer"
	."fmt"
	"net"
	"time"
	"strings"
	"strconv"
)

var localPort := 20017;
var broadcastPort := 20016;


func main(){	
	
	//Initialiser heis
	Init()
	
	
	Lytter hele tiden etter newOrder
	Mottar newOrder p√• egen heis
		om bestillingen er i samme etg som heisen er, ta bestillingen selv
		ellers:
			sender order, men kost til de andre heisene
			om ikke mottatt svar etter 1 sec, ta bestillingen selv
			om mottar svar fra annen heis, ikke ta bestillingen
	Mottar newOrder fra annen heis
		Sjekker sin egen kost opp mot den andres cost
		Sender svar tilbake dersom lavere kost
	
	for {
		go checkButtonCallUp()
		go checkButtonCallDown()
		go checkButtonCommand()
		go updateFloor()
		go receiveOrder()
		//go checklastfloor()????
		//go checktimer()????
	}
	

	
	elev_set_speed(0)
}





func updateFloor() {
	floor = elev_get_floor_sensor_signal()
}
